webpackJsonp([1],[,,,,,,,,,,function(t,e,a){function n(t){a(42)}var i=a(1)(a(33),a(54),n,null,null);t.exports=i.exports},function(t,e,a){function n(t){a(41)}var i=a(1)(a(37),a(53),n,null,null);t.exports=i.exports},function(t,e,a){function n(t){a(46)}var i=a(1)(a(38),a(58),n,null,null);t.exports=i.exports},function(t,e,a){"use strict";var n=(a(2),a(59),a(4)),i=(a.n(n),a(50));a.n(i),a(40);throw new Error('Cannot find module "bootstrap/dist/css/bootstrap.css"')},,function(t,e,a){function n(t){a(43)}var i=a(1)(a(34),a(55),n,null,null);t.exports=i.exports},,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),i={};e.default={name:"icon",props:{name:{type:String,validator:function(t){return t?t in i||(n.a.util.warn('Invalid prop: prop "icon" is referring to an unregistered icon "'+t+'".\nPlesase make sure you have imported this icon before using it.',this),!1):null}},scale:[Number,String],spin:Boolean,inverse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(n.a.util.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},clazz:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse}},icon:function(){return this.name?i[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,a=t.height;return Math.max(e,a)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,a=0;this.$children.forEach(function(t){e=Math.max(e,t.width),a=Math.max(a,t.height)}),this.childrenWidth=e,this.childrenHeight=a,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(a-t.height)/2})}},register:function(t){for(var e in t){var a=t[e];a.paths||(a.paths=[]),a.d&&a.paths.push({d:a.d}),a.polygons||(a.polygons=[]),a.points&&a.polygons.push({points:a.points}),i[e]=a}},icons:i}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",methods:{routeToData:function(){this.$router.push("/")},routeToMap:function(){this.$router.push("map")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),i=a.n(n),s=a(12),o=a.n(s),r=a(11),c=a.n(r);e.default={components:{DisasterTable:c.a,Pagination:o.a},data:function(){return{areas:["全部","萬華區","中正區","大同區","中山區","大安區","南港區","文山區","松山區","信義區","士林區","北投區","內湖區"],selectedArea:"全部",disasterData:[],headings:["CaseTime","CaseLocationDistrict","CaseLocationDescription","PName"],caseCount:0,pageLength:[{text:"10 筆/頁",value:10},{text:"20 筆/頁",value:20},{text:"50 筆/頁",value:50},{text:"100 筆/頁",value:100}],pagination:{range:5,currentPage:1,pageCount:10,sliceTotalPage:[]}}},mounted:function(){this.getData(),this.readyForPage()},computed:{dataFilterByArea:function(){var t=this,e=this.selectedArea;return this.disasterData.filter(function(a){return"全部"==e?a:a.CaseLocationDistrict.indexOf(e)>-1?t.disasterData:void 0})},totalPage:function(){return Math.ceil(this.dataFilterByArea.length/this.pagination.pageCount)},buildPage:function(){this.pagination.currentPage>this.totalPage&&(this.pagination.currentPage=1);var t=(this.pagination.currentPage-1)*this.pagination.pageCount,e=this.pagination.currentPage*this.pagination.pageCount;return this.dataFilterByArea.slice(t,e)},dataUncompleteCount:function(){this.caseCount=0;for(var t=0;t<this.dataFilterByArea.length;t++)"false"==this.dataFilterByArea[t].CaseComplete&&(this.caseCount+=1);return this.caseCount}},methods:{getData:function(){var t=this;i.a.get("https://tcgbusfs.blob.core.windows.net/blobfs/GetDisasterSummary.json").then(function(e){t.disasterData=e.data.DataSet["diffgr:diffgram"].NewDataSet.CASE_SUMMARY}).catch(function(t){console.log(t)})},readyForPage:function(){this.pagination.currentPage=1;var t=(this.pagination.currentPage-1)*this.pagination.pageCount,e=this.pagination.currentPage*this.pagination.pageCount;return this.dataFilterByArea.slice(t,e)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"disasterTable",props:["headings","dataFilterByArea","buildPage"],data:function(){return{opened:[],toggleSeen:!1}},methods:{changeRowName:function(t){return"CaseTime"==t?t="日期時間":"CaseLocationDistrict"==t?t="區域名稱":"CaseLocationDescription"==t?t="詳細地點":"PName"==t?t="災情分類":void 0},toggleRow:function(t){var e=this.opened.indexOf(t);e>-1?this.opened.splice(e,1):this.opened.push(t)},CaseIfComplete:function(t){return t="true"==t?"是":"否"}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pagination",props:["dataFilterByArea","pageLength","pagination","totalPage"],mounted:function(){this.selectPage(1)},computed:{buildPagination:function(){var t=0,e=0,a=this.pagination.currentPage,n=this.pagination.range,i=this.totalPage;a<n-2?(t=1,e=t+n-1):a<=i&&a>i-n+2?(t=i-n+1,e=i):(t=this.pagination.currentPage-2,e=this.pagination.currentPage+2),t<1&&(t=1),e>i&&(e=i),this.pagination.sliceTotalPage=[];for(var s=t;s<=e;s++)this.pagination.sliceTotalPage.push(s);return this.pagination.sliceTotalPage}},methods:{selectPage:function(t){this.pagination.currentPage=t,0==this.pagination.currentPage&&(this.pagination.currentPage=1),this.pagination.currentPage>this.totalPage&&(this.pagination.currentPage=this.totalPage)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(a(2),a(15));a.n(n),a(13),a(14);throw new Error('Cannot find module "font-awesome/css/font-awesome.css"')},,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,function(t,e,a){function n(t){a(44)}var i=a(1)(a(35),a(56),n,null,null);t.exports=i.exports},function(t,e,a){function n(t){a(45)}var i=a(1)(a(36),a(57),n,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DisasterTable outerContainer"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[t._l(t.headings,function(e){return a("th",[t._v(t._s(t.changeRowName(e)))])}),a("th")],2)]),t._l(t.buildPage,function(e,n){return a("tbody",[a("tr",{staticClass:"main",class:{opened:t.opened.includes(e)},on:{click:function(a){t.toggleRow(e)}}},[t._l(t.headings,function(n){return a("td",[t._v(t._s(e[n]))])}),a("td",{staticClass:"fa fa-chevron-right",attrs:{id:"arrow"},model:{value:t.toggleSeen,callback:function(e){t.toggleSeen=e},expression:"toggleSeen"}})],2),t.opened.includes(e)?a("tr",{staticClass:"subDescription"},[a("td",{attrs:{colspan:"5"}},[a("ul",[a("li",[a("span",{staticClass:"sub"},[t._v("災情細項類別")]),a("span",[t._v("： "+t._s(e.Name))])]),a("li",[a("span",{staticClass:"sub"},[t._v("災情描述")]),a("span",[t._v("： "+t._s(e.CaseDescription))])]),a("li",[a("span",{staticClass:"sub"},[t._v("災情通報單位")]),a("span",[t._v("： "+t._s(e.CaseCommunicatorUnit))])]),a("li",[a("span",{staticClass:"sub"},[t._v("是否已經處理完畢")]),a("span",[t._v("： "+t._s(t.CaseIfComplete(e.CaseComplete)))])])])])]):t._e()])})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{class:t.clazz,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e){return a("path",t._b({},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e){return a("polygon",t._b({},"polygon",e,!1))}):t._e(),t._v("\b\n    "),t.icon&&t.icon.raw?[a("g",{domProps:{innerHTML:t._s(t.icon.raw)}})]:t._e()])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"row",attrs:{id:"topBar"}},[a("a",{staticClass:"col-xs-6 title",class:{active:"/"==this.$route.path},on:{click:t.routeToData}},[t._v("台北市颱風災情最新動態")]),a("a",{staticClass:"col-xs-6 title",class:{active:"/map"==this.$route.path},on:{click:t.routeToMap}},[t._v("停電地區")]),a("a",{staticClass:"col-xs-12 subtitle",attrs:{href:"https://taipeicity.github.io/eoc_119/",target:"_blank"}},[t._v("資料來源：台北市")])]),a("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DisasterData tableList"},[a("div",{staticClass:"row bar"},[a("div",{staticClass:"alert alert-info col-xs-12"},[a("p",[t._v("防災災情及相關諮詢電話：87863119分機8900~8907")]),a("p",[t._v("目前尚未處理完成的災情："+t._s(t.dataUncompleteCount)+" 件")])])]),a("div",{staticClass:"row bar"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedArea,expression:"selectedArea"}],staticClass:"col-xs-12 col-md-6 selectedArea",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedArea=e.target.multiple?a:a[0]}}},t._l(t.areas,function(e){return a("option",[t._v(t._s(e))])})),a("select",{directives:[{name:"model",rawName:"v-model",value:t.pagination.pageCount,expression:"pagination.pageCount"}],staticClass:"col-xs-12 col-md-6 seletedPage",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.pagination.pageCount=e.target.multiple?a:a[0]}}},t._l(t.pageLength,function(e){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])}))]),a("Pagination",{attrs:{dataFilterByArea:t.dataFilterByArea,pageLength:t.pageLength,pagination:t.pagination,totalPage:t.totalPage}}),a("br"),a("div",{staticClass:"row"},[a("DisasterTable",{attrs:{headings:t.headings,dataFilterByArea:t.dataFilterByArea,buildPage:t.buildPage}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DisasterMap"},[a("h4",[t._v("Hi, google map coming soon...")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Pagination"},[a("div",{staticClass:"row"},[a("nav",{staticClass:"paginationBar col-xs-12"},[a("ul",[a("li",{class:{"is-disable":1==t.pagination.currentPage},on:{click:function(e){t.selectPage(1)}}},[t._m(0)]),a("li",{class:{"is-disable":1==t.pagination.currentPage},on:{click:function(e){t.selectPage(t.pagination.currentPage-1)}}},[t._m(1)]),t._l(t.buildPagination,function(e){return a("li",{class:{"is-info":e==t.pagination.currentPage},on:{click:function(a){t.selectPage(e)}}},[a("div",{staticClass:"button"},[t._v(t._s(e))])])}),a("li",{class:{"is-disable":t.pagination.currentPage==t.totalPage},on:{click:function(e){t.selectPage(t.pagination.currentPage+1)}}},[t._m(2)]),a("li",{class:{"is-disable":t.pagination.currentPage==t.totalPage},on:{click:function(e){t.selectPage(t.totalPage)}}},[t._m(3)])],2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("i",{staticClass:"fa fa-angle-double-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("i",{staticClass:"fa fa-angle-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("i",{staticClass:"fa fa-angle-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("i",{staticClass:"fa fa-angle-double-right"})])}]}}],[39]);
//# sourceMappingURL=app.26804b353f2ce6baee47.js.map